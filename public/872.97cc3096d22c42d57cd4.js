(self.webpackChunkwktest=self.webpackChunkwktest||[]).push([[872],{3576:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(5730),i=r(7104),n=r(6232),o=r(3915),c=r(8273),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var s=this.operator,n=i.toSubscriber(t,e,r);if(n.add(s?s.call(n,this.source):this.source||c.config.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),c.config.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),s.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=u(e))(function(e,s){var i;i=r.subscribe(function(e){try{t(e)}catch(r){s(r),i&&i.unsubscribe()}},s,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[n.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:o.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))(function(t,r){var s;e.subscribe(function(t){return s=t},function(t){return r(t)},function(){return t(s)})})},t.create=function(e){return new t(e)},t}();function u(t){if(t||(t=c.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=a},6011:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(8273),i=r(2434);e.empty={closed:!0,next:function(t){},error:function(t){if(s.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},7241:function(t,e,r){"use strict";var s,i=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n=r(7382),o=r(6011),c=r(3984),a=r(1476),u=r(8273),l=r(2434),h=function(t){function e(r,s,i){var n=t.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=o.empty;break;case 1:if(!r){n.destination=o.empty;break}if("object"==typeof r){r instanceof e?(n.syncErrorThrowable=r.syncErrorThrowable,n.destination=r,r.add(n)):(n.syncErrorThrowable=!0,n.destination=new d(n,r));break}default:n.syncErrorThrowable=!0,n.destination=new d(n,r,s,i)}return n}return i(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,r,s){var i=new e(t,r,s);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(c.Subscription);e.Subscriber=h;var d=function(t){function e(e,r,s,i){var c,a=t.call(this)||this;a._parentSubscriber=e;var u=a;return n.isFunction(r)?c=r:r&&(c=r.next,s=r.error,i=r.complete,r!==o.empty&&(u=Object.create(r),n.isFunction(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=c,a._error=s,a._complete=i,a}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};u.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw r;l.hostReportError(r)}},e.prototype.__tryOrSetError=function(t,e,r){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(s){return u.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(l.hostReportError(s),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(h);e.SafeSubscriber=d},3984:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(993),i=r(4720),n=r(7382),o=r(8574),c=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,c=r._parentOrParents,u=r._ctorUnsubscribe,l=r._unsubscribe,h=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,c instanceof t)c.remove(this);else if(null!==c)for(var d=0;d<c.length;++d)c[d].remove(this);if(n.isFunction(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(f){e=f instanceof o.UnsubscriptionError?a(f.errors):[f]}}if(s.isArray(h)){d=-1;for(var p=h.length;++d<p;){var b=h[d];if(i.isObject(b))try{b.unsubscribe()}catch(f){e=e||[],f instanceof o.UnsubscriptionError?e=e.concat(a(f.errors)):e.push(f)}}}if(e)throw new o.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var s=r;(r=new t)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var n=this._subscriptions;return null===n?this._subscriptions=[r]:n.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function a(t){return t.reduce(function(t,e){return t.concat(e instanceof o.UnsubscriptionError?e.errors:e)},[])}e.Subscription=c},8273:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},9941:(t,e,r)=>{"use strict";var s=r(3576);e.E_=new s.Observable(function(t){return t.complete()})},6232:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1476:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},8574:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();e.UnsubscriptionError=r},5730:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(7241);e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof s.Subscriber?e:null}return!0}},2434:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hostReportError=function(t){setTimeout(function(){throw t},0)}},2516:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.identity=function(t){return t}},993:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},7382:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=function(t){return"function"==typeof t}},4720:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(t){return null!==t&&"object"==typeof t}},3915:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(2516);function i(t){return 0===t.length?s.identity:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},7104:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(7241),i=r(1476),n=r(6011);e.toSubscriber=function(t,e,r){if(t){if(t instanceof s.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new s.Subscriber(t,e,r):new s.Subscriber(n.empty)}},8104:(t,e,r)=>{"use strict";r.d(e,{i:()=>d});var s=r(7716),i=r(240),n=r(8583);let o=(()=>{class t{constructor(){this.message="Aguarde..."}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["loading-spinner"]],inputs:{message:"message"},decls:5,vars:1,consts:[[1,"container-spinner"],[1,"spinner"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div"),s.TgZ(3,"strong"),s._uU(4),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Oqu(e.message))},styles:[".container-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}"]}),t})();function c(t,e){1&t&&(s.TgZ(0,"div",6),s._UZ(1,"loading-spinner"),s.qZA())}function a(t,e){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"div",7),s.Hsn(2,2),s.qZA(),s.TgZ(3,"span"),s.Hsn(4,3),s.qZA(),s.qZA())}const u=[[["","buttons",""]],[["","search",""]],[["","body",""]],[["","footer",""]]],l=function(){return["0","add"]},h=["[buttons]","[search]","[body]","[footer]"];let d=(()=>{class t{constructor(){this.entity=void 0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["base-layout"]],inputs:{entity:"entity",titletop:"titletop"},ngContentSelectors:h,decls:10,vars:5,consts:[[1,"card"],[1,"page-top","shadow-sm"],[3,"routerLink"],["title","novo",1,"btn","btn-success","btn-xs","btn-pdr","fa","fa-plus-circle","float-right","sombra-btn"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"text-center"],[1,"card-body"]],template:function(t,e){1&t&&(s.F$t(u),s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2),s.Hsn(3),s.TgZ(4,"a",2),s._UZ(5,"button",3),s.qZA(),s.qZA(),s.TgZ(6,"div"),s.Hsn(7,1),s.qZA(),s.YNc(8,c,2,0,"div",4),s.YNc(9,a,5,0,"div",5),s.qZA()),2&t&&(s.xp6(2),s.hij(" ",e.titletop," "),s.xp6(2),s.Q6J("routerLink",s.DdM(4,l)),s.xp6(4),s.Q6J("ngIf",void 0===e.entity),s.xp6(1),s.Q6J("ngIf",void 0!==e.entity))},directives:[i.yS,n.O5,o],styles:[""]}),t})()},2860:(t,e,r)=>{"use strict";r.d(e,{G:()=>n});var s=r(8583),i=r(7716);let n=(()=>{class t{transform(t,e){switch(e){case"length":return function(t){return t.length}(t);case"lowerCase":return function(t){return t.toLowerCase()}(t);case"uppercase":return function(t){return t.toUpperCase()}(t);case"mes":return function(t){switch(t){case 1:return"Janeiro";case 2:return"Fevereiro";case 3:return"Mar\xe7o";case 4:return"Abril";case 5:return"Maio";case 6:return"Junho";case 7:return"Julho";case 8:return"Agosto";case 9:return"Setembro";case 10:return"OUtubro";case 11:return"Novembro";case 12:return"Dezembro";default:return t}}(t);case"semana":return function(t){switch(t){case 0:return"Domingo";case 1:return"Segunda-feira";case 2:return"Ter\xe7a-feira";case 3:return"Quarta-feira";case 4:return"Quinta-feira";case 5:return"Sexta-feira";case 6:return"S\xe1bado";default:return t}}(t);case"currency":return function(t){return(0,s.xG)(t,"pt-BR",(0,s.jK)("BRL","wide"),"BRL","1.2-2")}(t);default:return t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"customPipe",type:t,pure:!0}),t})()},2633:(t,e,r)=>{"use strict";r.d(e,{s:()=>s,E:()=>i});var s=(()=>(function(t){t.PRIMARY="outline-primary",t.SECONDARY="outline-secondary",t.SUCCESS="outline-success",t.DANGER="outline-danger",t.WARNING="outline-warning",t.INFO="outline-info",t.LIGHT="outline-light",t.DARK="outline-dark"}(s||(s={})),s))(),i=(()=>(function(t){t.EDIT="edit",t.PLUS="plus",t.SAVE="check",t.TRASH="trash",t.USER="user",t.USERS="users"}(i||(i={})),i))()},9767:(t,e,r)=>{"use strict";r.d(e,{a:()=>f});var s=r(7716),i=r(665),n=r(8583),o=r(4554),c=r(2860);function a(t,e){if(1&t&&(s.TgZ(0,"option",12),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("ngValue",t),s.xp6(1),s.Oqu(t)}}function u(t,e){if(1&t&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Oqu(t)}}function l(t,e){if(1&t&&(s.TgZ(0,"td"),s._uU(1),s.ALo(2,"customPipe"),s.ALo(3,"currency"),s.qZA()),2&t){const t=e.$implicit,r=s.oxw().$implicit;s.uIk("data-label",t.label),s.xp6(1),s.Oqu(t.pipe?s.xi3(2,2,r[t.name],t.pipe):t.sub?r[t.name][t.sub]:t.currency?s.xi3(3,5,r[t.name],"BRL"):r[t.name])}}function h(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"a",17),s.TgZ(1,"button",18),s.NdJ("click",function(){const e=s.CHM(t).$implicit,r=s.oxw().$implicit;return e.eventHandler(r)}),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(1),s.MT6("btn btn-",t.color," btn-pdr fa fa-",t.icon||"plus"," sombra-btn"),s.s9C("title",t.title)}}function d(t,e){if(1&t&&(s.TgZ(0,"tr"),s.YNc(1,l,4,8,"td",14),s.TgZ(2,"td"),s.YNc(3,h,2,5,"a",16),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.fields),s.xp6(2),s.Q6J("ngForOf",t.tableOptions.buttons)}}function p(t,e){if(1&t&&(s.TgZ(0,"td",19),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.uIk("colspan",t.headers.length),s.xp6(1),s.hij(" ",t.tableOptions.emptyMessage,"")}}function b(t,e){if(1&t&&(s.TgZ(0,"table",13),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.YNc(3,u,2,1,"th",14),s.qZA(),s.qZA(),s.TgZ(4,"tbody"),s.YNc(5,d,4,2,"tr",14),s.TgZ(6,"tr"),s.YNc(7,p,2,2,"td",15),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(3),s.Q6J("ngForOf",t.headers),s.xp6(2),s.Q6J("ngForOf",t.entity),s.xp6(2),s.Q6J("ngIf",t.entity.length<1)}}let f=(()=>{class t{constructor(){this.page=1,this.fnNext=new s.vpe,this.fnPrev=new s.vpe,this.fnList=new s.vpe,this.count=5,this.counts=[2,5,10,20,50,100],this.headers=[],this.fields=[]}ngOnInit(){this.headers=this.tableOptions.headers,this.headers.includes("Op\xe7\xf5es")||this.headers.push("Op\xe7\xf5es"),this.fields=this.tableOptions.fields}nextPage(){this.fnNext.emit()}prevPage(){this.fnPrev.emit()}getList(){this.fnList.emit(this.count)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-table"]],inputs:{tableOptions:"tableOptions",entity:"entity",lastObject:"lastObject",page:"page"},outputs:{fnNext:"fnNext",fnPrev:"fnPrev",fnList:"fnList"},decls:17,vars:6,consts:[[1,"col-sm-2"],["for","qtd"],["id","qtd",1,"border-l","border-r",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"scrolling"],["class","table table-striped table-bordered table-sm",4,"ngIf"],["itens","",1,"pageble"],[1,"btn","btn-primary",3,"disabled","click"],[1,"far","fa-arrow-alt-circle-left"],[1,"btn","btn-defalt","pageNumber"],[1,"btn","btn-danger",3,"disabled","click"],[1,"far","fa-arrow-alt-circle-right"],[3,"ngValue"],[1,"table","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],["class","table-message-empty",4,"ngIf"],["class","componenteform",4,"ngFor","ngForOf"],[1,"componenteform"],["type","button","data-placement","bottom",3,"title","click"],[1,"table-message-empty"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"label",1),s._uU(2,"Item por P\xe1gina:"),s.qZA(),s.TgZ(3,"select",2),s.NdJ("ngModelChange",function(t){return e.count=t})("change",function(){return e.getList()}),s.YNc(4,a,2,2,"option",3),s.qZA(),s.qZA(),s.TgZ(5,"div",4),s.YNc(6,b,8,3,"table",5),s.qZA(),s.TgZ(7,"toolbar-base"),s.TgZ(8,"div",6),s.TgZ(9,"button",7),s.NdJ("click",function(){return e.prevPage()}),s._UZ(10,"i",8),s._uU(11," Anterior "),s.qZA(),s.TgZ(12,"button",9),s._uU(13),s.qZA(),s.TgZ(14,"button",10),s.NdJ("click",function(){return e.nextPage()}),s._uU(15," Pr\xf3ximo "),s._UZ(16,"i",11),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("ngModel",e.count),s.xp6(1),s.Q6J("ngForOf",e.counts),s.xp6(2),s.Q6J("ngIf",void 0!==e.entity),s.xp6(3),s.Q6J("disabled",1===e.page),s.xp6(4),s.Oqu(e.page),s.xp6(1),s.Q6J("disabled",void 0===e.lastObject))},directives:[i.EJ,i.JJ,i.On,n.sg,n.O5,o.T,i.YN,i.Kr],pipes:[c.G,n.H9],styles:['td[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#2626f1}.trfoot[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:0 -1px 0 #00000080;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#07889b}.trfoot[_ngcontent-%COMP%]{font-weight:bolder}.table-message-empty[_ngcontent-%COMP%]{background-color:red;color:#fff;font-weight:700;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.pageble[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center}.pageNumber[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.scrolling[_ngcontent-%COMP%]{overflow:auto;max-height:370px}@media only screen and (max-width: 760px), (min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{border:1px solid #ccc;text-align:justify}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;text-align:start;position:relative;padding-left:10px}td[_ngcontent-%COMP%]:before{font-weight:700;padding-right:10px;font-size:12px;content:" " attr(data-label) ": "}}']}),t})()},4554:(t,e,r)=>{"use strict";r.d(e,{T:()=>o});var s=r(7716);const i=[[["","itens",""]]],n=["[itens]"];let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["toolbar-base"]],ngContentSelectors:n,decls:2,vars:0,consts:[[1,"toolbar"]],template:function(t,e){1&t&&(s.F$t(i),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".toolbar[_ngcontent-%COMP%]{text-shadow:0 -1px 0 hsla(0,0%,99%,.904);background:#f5f5f5;border:2px solid #a9a9a9;border-radius:10px;padding:4px 8px;margin-top:5px;margin-bottom:-15px}"]}),t})()},8638:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var s=r(7716),i=r(8583);function n(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",8),s.TgZ(1,"button",9),s.NdJ("click",function(){return s.CHM(t).$implicit.eventHandler()}),s._UZ(2,"span",6),s._UZ(3,"i"),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(1),s.Gre("btn btn-",t.color," btn-block toolbar-footer-btn"),s.s9C("title",t.title),s.xp6(2),s.Gre("fas fa-",t.icon,"")}}let o=(()=>{class t{constructor(){}ngOnInit(){!this.toolBarOptions&&(this.toolBarOptions={buttons:[],emptyMessage:""})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["toolbar-edit"]],inputs:{formulario:"formulario",toolBarOptions:"toolBarOptions"},decls:9,vars:5,consts:[[1,"toolbar"],[1,"col-md-12"],[1,"row","toolbar-buttons"],["class","col-sm-1","style","padding: 2px; margin: 0 1px;",4,"ngFor","ngForOf"],[1,"col-sm-1",2,"padding","2px"],["type","submit",1,"btn","btn-outline-success","btn-block","toolbar-footer-btn",3,"disabled"],[1,"d-none","d-md-inline"],[1,"fas","fa-save"],[1,"col-sm-1",2,"padding","2px","margin","0 1px"],["type","button",3,"title","click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.YNc(3,n,4,7,"div",3),s._UZ(4,"div"),s.TgZ(5,"div",4),s.TgZ(6,"button",5),s._UZ(7,"span",6),s._UZ(8,"i",7),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("ngForOf",e.toolBarOptions.buttons),s.xp6(1),s.Gre("col-sm-",10-(null==e.toolBarOptions.buttons?null:e.toolBarOptions.buttons.length),""),s.xp6(2),s.Q6J("disabled",!e.formulario.valid))},directives:[i.sg],styles:[".toolbar[_ngcontent-%COMP%]{text-shadow:0 -1px 0 hsla(0,0%,99%,.904);background:#f5f5f5;border:2px solid #a9a9a9;border-radius:10px;padding:4px 8px;margin-top:5px;margin-bottom:-15px}.toolbar-item[_ngcontent-%COMP%]{display:flex;max-height:30px!important;padding:2px;font-size:12px;color:#000}.toolbar-buttons[_ngcontent-%COMP%]{justify-content:space-between}.toolbar-footer-btn[_ngcontent-%COMP%]{max-height:30px!important;border-radius:15px;margin:0;padding:inherit}.toolbar-divider[_ngcontent-%COMP%]{padding-left:2px;padding-right:2px}"]}),t})()},5574:(t,e,r)=>{"use strict";r.d(e,{p:()=>o});var s=r(7716),i=r(8583);function n(t,e){if(1&t&&(s.TgZ(0,"div",1),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.text," ")}}let o=(()=>{class t{hasErro(){return this.control.hasError("required")&&this.control.touched?(this.text="Campo necess\xe1rio.",!0):this.control.hasError("email")&&this.control.touched?(this.text="E-mail invalido.",!0):this.control.hasError("minlength")&&this.control.touched?(this.text=`Tamanho m\xednimo: ${this.control.errors.minlength.requiredLength} caracteres.`,!0):!(!this.control.hasError("maxlength")||!this.control.touched||(this.text=`Tamanho m\xe1ximo: ${this.control.errors.maxlength.requiredLength} caracteres.`,0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["valid-msg"]],inputs:{control:"control"},decls:1,vars:1,consts:[["class","messages-error border-r border-l",4,"ngIf"],[1,"messages-error","border-r","border-l"]],template:function(t,e){1&t&&s.YNc(0,n,2,1,"div",0),2&t&&s.Q6J("ngIf",e.hasErro())},directives:[i.O5],encapsulation:2}),t})()},4092:(t,e,r)=>{"use strict";r.d(e,{R:()=>S});var s=r(6304),i=r(240),n=r(7716),o=r(665),c=r(9941),a=r(5257),u=r(8939),l=r(8002),h=r(3190),d=r(948),p=r(1972),b=r(5917),f=r(1841);let g=(()=>{class t{constructor(t){this.http=t,this.urlCidades="../../../assets/dados/cidades.json",this.urlEstados="../../../assets/dados/estadosbr.json"}consultaCEP(t){return""!==(t=t.replace(/\D/g,""))&&/^[0-9]{8}$/.test(t)?this.http.get(`//viacep.com.br/ws/${t}/json`):(0,b.of)({})}getEstadosBr(){return this.http.get(this.urlEstados)}getCidades(t){return t?this.http.get(this.urlCidades).pipe((0,l.U)(e=>e.filter(e=>e.estado==t))):this.http.get(this.urlCidades)}getCidadeNome(t){return this.http.get(this.urlCidades).pipe((0,l.U)(e=>e.filter(e=>e.nome===t)))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(f.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(){}handler(t){return(t=>{let e;return e=t instanceof f.UA?`Status: ${t.status} - ${t.error.mesage}`:t.message?t.message:t.toString(),e})(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=r(9193),v=r(7574),_=r(5345);class x{constructor(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}call(t,e){return e.subscribe(new O(t,this.project,this.concurrent,this.scheduler))}}class O extends _.Ds{constructor(t,e,r,s){super(t),this.project=e,this.concurrent=r,this.scheduler=s,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:r,value:s,index:i}=t;e.subscribeToProjection(r,s,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const r=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,s=e(t,r);this.scheduler?this.destination.add(this.scheduler.schedule(O.dispatch,0,{subscriber:this,result:s,value:t,index:r})):this.subscribeToProjection(s,t,r)}catch(s){e.error(s)}}else this.buffer.push(t)}subscribeToProjection(t,e,r){this.active++,this.destination.add((0,_.ft)(t,new _.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var w=r(8534);let E=(()=>{class t{constructor(t){this.storage=t,this.compressedImages=[],this.recursiveCompress=(t,e,r)=>this.compress(t).pipe((0,l.U)(t=>(this.compressedImages.push(t),{data:t,index:e+1,array:r})))}processImage(t){return this.recursiveCompress(t[0],0,t).pipe(function(t,e=Number.POSITIVE_INFINITY,r){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,s=>s.lift(new x(t,e,r))}(e=>e.index>e.array.length-1?y.E:this.recursiveCompress(t[e.index],e.index,t)))}compress(t){const e=new FileReader;return e.readAsDataURL(t),new v.y(r=>{e.onload=s=>{const i=new Image;i.src=s.target.result,i.onload=()=>{const e=document.createElement("canvas"),s=600/i.width;e.width=600,e.height=i.height*s;const n=e.getContext("2d");n.drawImage(i,0,0,600,i.height*s),n.canvas.toBlob(e=>{r.next(new File([e],t.name,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",1)},e.onerror=t=>r.error(t)}})}uploadImg(t,e,r){const s=`${t}/${r}`;return this.storage.ref(s),this.storage.upload(s,e)}getURL(t,e){return this.storage.ref(`${t}/${e}`).getDownloadURL()}deleteImg(t,e){this.storage.ref(t).child(e).delete()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(w.Q1))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=r(8756),P=r(3922);let S=(()=>{class t{constructor(t,e,r,s){this.injector=t,this.service=e,this.urlImg=r,this.urlList=s,this.filter=new d.x,this.validateMsg="Erro de Valida\xe7\xe3o",this.uploadProgress=0,this.cd=this.injector.get(n.sBO),this.cepService=this.injector.get(g),this.confirm=this.injector.get(p.z),this.erroService=this.injector.get(m),this.formBuilder=this.injector.get(o.qu),this.imageService=this.injector.get(E),this.load=this.injector.get(Z.b),this.route=this.injector.get(i.gz),this.router=this.injector.get(i.F0),this.toast=this.injector.get(P.k)}ngOnInit(){this.route.params.pipe((0,a.q)(1)).subscribe(t=>{"0"===t.id?this.newRecord():(this.id=t.id,this.findById(this.id))}),this.getEstados(),this.getCidades(),this.listFactory()}findById(t){this.service.getDoc(t).pipe((0,a.q)(1)).subscribe(t=>{this.object=t,this.guardListAttrib(),this.object.hasOwnProperty("address")&&this.cepService.getCidadeNome(this.object.address.cidade).subscribe(t=>this.cidades=t),this.formConstructorById().then(t=>{this.formulario=t,this.chageCitys()})},t=>{this.toast.danger(`Falha ao localizar documento!!: (${this.handleError(t)})`)})}newRecord(){this.formConstructorNew().then(t=>{this.formulario=t,this.chageCitys()})}onSubmit(){this.object=this.formulario.value,this.object.id=this.id,this.returnListAttrib(),this.load.show({message:"Aguarde valida\xe7\xe3o..."}),this.validateData().then(t=>{if(this.load.dismiss(),t)if(this.object.id)if(this.filePhoto){this.load.show({message:"Aguarde upload..."});const t=this.imageService.uploadImg(this.urlImg,this.filePhoto,this.object.id);t.percentageChanges().subscribe(t=>{this.uploadProgress=Math.round(t),this.cd.detectChanges()}),t.snapshotChanges().pipe((0,u.x)(()=>{this.imageService.getURL(this.urlImg,this.object.id).subscribe(t=>{this.object.url_perfil=t,this.update(this.object)})})).subscribe()}else this.load.show({}),this.update(this.object);else delete this.object.id,this.create(this.object);else this.toast.danger(this.validateMsg)})}create(t){this.service.create(t).then(t=>{this.load.dismiss(),this.toast.success("Registro efetuado com sucesso!"),this.resetForm()},t=>{this.toast.danger(`Erro: (${this.handleError(t)})`)})}update(t){this.service.update(t,t.id).then(t=>{this.load.dismiss(),this.toast.success("Edi\xe7\xe3o realizada com sucesso!"),this.filePhoto=void 0,this.uploadProgress=0,this.cd.detectChanges()},t=>{this.toast.danger(`Erro ao editar: (${this.handleError(t)})`)})}onPhoto(t){const e=this.load;e.show({}),this.imageService.processImage(t.target.files).pipe((0,a.q)(1)).subscribe(t=>{this.filePhoto=t.data},t=>{},()=>{e.dismiss()})}guardListAttrib(){return(0,s.Z)(function*(){})()}returnListAttrib(){return(0,s.Z)(function*(){})()}validateData(){return(0,s.Z)(function*(){return!0})()}formConstructorById(){var t=this;return(0,s.Z)(function*(){return t.formBuilder.group({})})()}formConstructorNew(){var t=this;return(0,s.Z)(function*(){return t.formBuilder.group({})})()}resetForm(){this.formulario.reset()}chageCitys(){void 0!==this.object&&this.object.hasOwnProperty("address")&&this.formulario.get("address.estado").valueChanges.pipe((0,l.U)(t=>this.estados.filter(e=>e.sigla===t)),(0,l.U)(t=>t&&t.length>0?t[0].id:c.E_),(0,h.w)(t=>this.cepService.getCidades(t))).subscribe(t=>this.cidades=t)}consultaCEP(){const t=this.formulario.get("address.cep").value;null!=t&&""!==t&&this.cepService.consultaCEP(t).pipe((0,a.q)(1)).subscribe(t=>{this.populaDadosForm(t)},t=>console.log(this.handleError(t)))}populaDadosForm(t){this.formulario.patchValue({address:{cep:t.cep,logradouro:t.logradouro,complemento:t.complemento,bairro:t.bairro,cidade:t.localidade,estado:t.uf}})}getEstados(){this.cepService.getEstadosBr().pipe((0,a.q)(1)).subscribe(t=>this.estados=t)}getCidades(){this.cepService.getCidades(6).subscribe(t=>{this.cidades=t})}listFactory(){}handleError(t){return this.erroService.handler(t)}return(){this.router.navigate([this.urlList])}}return t.\u0275fac=function(t){n.$Z()},t.\u0275dir=n.lG2({type:t}),t})()},7883:(t,e,r)=>{"use strict";r.d(e,{$:()=>h});var s=r(6304),i=r(240),n=r(5257),o=r(1972),c=r(948),a=r(8756),u=r(3922),l=r(7716);let h=(()=>{class t{constructor(t,e,r){this.injector=t,this.service=e,this.orderField=r,this.filter=new c.x,this.offset=5,this.prevLists=[],this.page=1,this.search="",this.confirm=this.injector.get(o.z),this.load=this.injector.get(a.b),this.toast=this.injector.get(u.k),this.router=this.injector.get(i.F0)}ngOnInit(){this.getList(),this.listFactory()}getList(t){this.load.show({message:"Coletando dados..."}),this.service.getListPage(this.offset,t,this.orderField).pipe((0,n.q)(1)).subscribe(t=>{this.list=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),this.lastObject=this.list[this.list.length-1],this.transformObjects().then(t=>{this.list=t}),this.load.dismiss()},t=>{this.toast.danger(`Falha ao listar!! (${t.message})`),this.load.dismiss()})}countPage(t){this.offset=t,this.getList()}nextPage(){this.prevLists.push(this.list),this.getList(this.lastObject[this.orderField]),this.page+=1}prevPage(){this.prevLists[this.page-2]&&(this.list=this.prevLists[this.page-2]),this.prevLists.pop(),this.lastObject=this.list[this.list.length-1],this.page-=1}openModalDelete(t,e){this.id=t,this.confirm.show({message:`Deseja deletar ${e}`,siFn:()=>{this.deletar()}})}deletar(){this.service.delete(this.id).then(()=>{this.toast.success("Exclus\xe3o realizada com sucesso!"),this.getList()},t=>{this.toast.danger(`Falha ao deletar!! (${t.message})`)})}listFactory(){}transformObjects(){var t=this;return(0,s.Z)(function*(){return t.list})()}}return t.\u0275fac=function(t){l.$Z()},t.\u0275dir=l.lG2({type:t}),t})()},2609:(t,e,r)=>{"use strict";r.d(e,{M:()=>i});var s=r(4384);class i{constructor(t,e){this.injector=t,this.collection=e,this.db=this.injector.get(s.ST)}getDoc(t){return this.db.collection(this.collection).doc(t).valueChanges()}getList(){return this.db.collection(this.collection,t=>t.orderBy("name")).snapshotChanges()}getListPage(t,e="",r){return this.db.collection(this.collection,s=>s.orderBy(r).startAfter(e).limit(t)).snapshotChanges()}create(t){return new Promise((e,r)=>{this.db.collection(this.collection).add(t).then(t=>{e(t)},t=>r(t))})}delete(t){return this.db.collection(this.collection).doc(t).delete()}update(t,e){return this.db.collection(this.collection).doc(e).update(Object.assign({},t))}}},948:(t,e,r)=>{"use strict";r.d(e,{x:()=>s});class s{}}}]);